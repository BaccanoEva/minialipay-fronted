{"ast":null,"code":"import _regeneratorRuntime from \"/Users/hotpotman/minialipay-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/hotpotman/minialipay-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/hotpotman/minialipay-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hotpotman/minialipay-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { nativeFeaturesAvailable } from \"./core\";\nimport numberToChineseWords from \"number-to-chinese-words\";\n\nfunction genTransferNotificationText(amount) {\n  return \"\\u652F\\u4ED8\\u5B9D \\u5230\\u8D26 \".concat(numberToChineseWords.toWords(amount.toFixed(0) / 100), \"\\u5143\");\n}\n\nvar TTSService =\n/*#__PURE__*/\nfunction () {\n  function TTSService() {\n    _classCallCheck(this, TTSService);\n  }\n\n  _createClass(TTSService, [{\n    key: \"notifyTransferArrival\",\n\n    /**\n     * @param amount 分\n     */\n    value: function notifyTransferArrival(amount) {\n      window.TTS.speak({\n        text: genTransferNotificationText(amount),\n        locale: 'zh-CN'\n      });\n    }\n  }]);\n\n  return TTSService;\n}();\n\nvar MockedService =\n/*#__PURE__*/\nfunction () {\n  function MockedService() {\n    _classCallCheck(this, MockedService);\n  }\n\n  _createClass(MockedService, [{\n    key: \"notifyTransferArrival\",\n\n    /**\n     * @param amount 分\n     */\n    value: function () {\n      var _notifyTransferArrival = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(amount) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"%cTTS:%c \" + genTransferNotificationText(amount), \"background:yellow\", \"\");\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function notifyTransferArrival(_x) {\n        return _notifyTransferArrival.apply(this, arguments);\n      };\n    }()\n  }]);\n\n  return MockedService;\n}();\n\nexport default nativeFeaturesAvailable() ? new TTSService() : new MockedService();","map":{"version":3,"sources":["/Users/hotpotman/minialipay-frontend/src/native/TTSService.js"],"names":["nativeFeaturesAvailable","numberToChineseWords","genTransferNotificationText","amount","toWords","toFixed","TTSService","window","TTS","speak","text","locale","MockedService","console","log"],"mappings":";;;;AAAA,SAASA,uBAAT,QAAwC,QAAxC;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;;AAEA,SAASC,2BAAT,CAAqCC,MAArC,EAA6C;AAC3C,mDAAiBF,oBAAoB,CAACG,OAArB,CAA6BD,MAAM,CAACE,OAAP,CAAe,CAAf,IAAoB,GAAjD,CAAjB;AACD;;IAEKC,U;;;;;;;;;;AACJ;;;0CAGsBH,M,EAAQ;AAC5BI,MAAAA,MAAM,CAACC,GAAP,CAAWC,KAAX,CAAiB;AACfC,QAAAA,IAAI,EAAER,2BAA2B,CAACC,MAAD,CADlB;AAEfQ,QAAAA,MAAM,EAAE;AAFO,OAAjB;AAID;;;;;;IAGGC,a;;;;;;;;;;AACJ;;;;;;gDAG4BT,M;;;;;AAC1BU,gBAAAA,OAAO,CAACC,GAAR,CAAY,cAAcZ,2BAA2B,CAACC,MAAD,CAArD,EAA+D,mBAA/D,EAAoF,EAApF;;;;;;;;;;;;;;;;;;;AAIJ,eAAeH,uBAAuB,KAAK,IAAIM,UAAJ,EAAL,GAAwB,IAAIM,aAAJ,EAA9D","sourcesContent":["import { nativeFeaturesAvailable } from \"./core\";\nimport numberToChineseWords from \"number-to-chinese-words\";\n\nfunction genTransferNotificationText(amount) {\n  return `支付宝 到账 ${numberToChineseWords.toWords(amount.toFixed(0) / 100)}元`\n}\n\nclass TTSService {\n  /**\n   * @param amount 分\n   */\n  notifyTransferArrival(amount) {\n    window.TTS.speak({\n      text: genTransferNotificationText(amount),\n      locale: 'zh-CN'\n    });\n  }\n}\n\nclass MockedService {\n  /**\n   * @param amount 分\n   */\n  async notifyTransferArrival(amount) {\n    console.log(\"%cTTS:%c \" + genTransferNotificationText(amount), \"background:yellow\", \"\");\n  }\n}\n\nexport default nativeFeaturesAvailable() ? new TTSService() : new MockedService();"]},"metadata":{},"sourceType":"module"}